# Вступ до Qt: історія, порівняння з іншими UI-фреймворками та огляд екосистеми

## Історія та еволюція Qt
Qt (варіант вимови від розробників cute — к'ют) — крос-платформовий інструментарій розробки програмного забезпечення. Дозволяє запускати написане за його допомогою ПЗ на більшості сучасних операційних систем (ОС), просто компілюючи текст програми для кожної операційної системи без зміни початкового коду. Містить всі основні класи, які можуть бути потрібні для розробки прикладного програмного забезпечення, починаючи з елементів графічного інтерфейсу й закінчуючи класами для роботи з мережею, базами даних, OpenGL, SVG і XML. Бібліотека дозволяє керувати потоками, працювати з мережею та забезпечує крос-платформовий доступ до файлів.

Qt також може бути використаним у багатьох інших мовах програмування: Ada (QtAda), C# (Qyoto/Kimono), Java (Qt Jambi), Qt Jambi, Node.js, Pascal, Perl, PHP (PHP-Qt), Ruby (QtRuby), та Python (PyQt,PySide).
 
Влітку 1990 року Гаавард Норд та Ерік Шамбе-Енг (перші розробники Qt, відповідно генеральний директор і президент компанії Trolltech) працювали разом над додатком для роботи з базами даних ультразвукових зображень. Програма була написана на C++ і працювала на Mac OS, Unix і Microsoft Windows. Розробку Qt вони розпочали у 1991 році, за три роки до створення компанії Quasar Technologies, яка згодом змінила назву на Troll Tech, а потім на Trolltech.
Назву «Qt» було обрано через те, що літера «Q» виглядала привабливо в шрифті Emacs, який використовував Гаавард, а «t» було натхненною назвою інструментарію Xt.
Перші дві версії Qt мали лише два варіанти: Qt/X11 для Unix і Qt/Windows для Windows.
20 травня 1995 року Trolltech публічно випустила Qt 0.90 для X11/Linux із початковим кодом за ліцензією Qt Free Edition License. Ця ліцензія дозволяла доступ до вихідного коду, але забороняла поширення модифікованих версій, тому не відповідала визначенню вільного програмного забезпечення. Trolltech використовувала цю ліцензію до версії 1.45. У 1998 році почалося обговорення того, що середовищем стільниці для Linux стане KDE, який базувався на Qt, і це викликало занепокоєння в спільноті вільного ПЗ через використання пропрієтарної бібліотеки.
Платформа Windows була доступна лише за комерційною ліцензією, тому безкоштовні чи відкриті застосунки, створені за допомогою Qt під X11, не могли бути перенесені на Windows без купівлі ліцензії.
Із випуском версії 2.0 у середині 1999 року Qt перейшла на ліцензію Q Public License (QPL), яка була вільною, але несумісною з GPL. Щоб уникнути ризику закриття бібліотеки в майбутньому, спільнота KDE та Trolltech створили фонд KDE Free Qt Foundation, який гарантував перехід Qt на ліцензію BSD-типу, якщо відкриту версію не буде випущено протягом 12 місяців.
У 2000 році версію Qt/X11 2.2 випустили під ліцензією GPLv2, що завершило суперечки про сумісність з GPL.
Наприкінці 2001 року вийшла Qt 3.0 з підтримкою Mac OS X. Однак ця підтримка спочатку була доступна лише за комерційною ліцензією. У червні 2003 року Qt 3.2 принесла підтримку Mac OS X під GPL.
У 2002 році учасники проєкту KDE on Cygwin почали портати Qt/X11 на Windows, оскільки Trolltech відмовлялася надавати безкоштовну ліцензію на Qt/Windows, мотивуючи це тим, що Windows — не вільна платформа. Хоча проект досяг певного успіху, він так і не став виробничим рішенням.
Це питання було остаточно вирішене в червні 2005 року, коли вийшла Qt 4.0 з підтримкою Windows під ліцензією GPL. Відтоді Qt дозволяла створювати відкриті застосунки на всіх платформах безкоштовно. Пізніше було додано також можливість використання GPLv3 з особливими виключеннями, що дозволяло використовувати Qt навіть у проєктах із несумісними з GPL ліцензіями, наприклад Mozilla Public License.
17 червня 2008 року компанія Nokia придбала Trolltech ASA і перейменувала її спочатку на Qt Software, а згодом на Qt Development Frameworks.
Nokia зробила Qt основною платформою розробки для своїх пристроїв, включаючи порт на платформу Symbian S60. Версія 1.0 комплекту розробника Nokia Qt SDK була випущена 23 червня 2010 року. Вихідні коди публікувались на платформі Gitorious з метою залучення ширшої спільноти.
14 січня 2009 року у версії Qt 4.5 було додано підтримку ліцензії LGPL, що зробило Qt привабливішим як для відкритих проєктів, так і для закритих.
У лютому 2011 року Nokia заявила про відмову від технологій Symbian і перехід до Windows Phone як основної мобільної платформи. У березні того ж року Nokia продала комерційне ліцензування Qt компанії Digia, з метою розширення підтримки Android, iOS і Windows 8.
У березні 2011 року Nokia продала права на комерційну версію Qt компанії Digia. У серпні 2012 року Digia оголосила, що придбає всю платформу Qt у Nokia. Команда Digia розпочала роботу у вересні 2012 року. Вже через місяць вони випустили Qt 5.0, а потім нові версії кожні пів року з новими можливостями та підтримкою додаткових платформ.
У вересні 2014 року Digia передала Qt і пов'язані авторські права своїй дочірній компанії The Qt Company. У травні 2016 року Digia і Qt остаточно стали незалежними компаніями.
Qt 5 був офіційно випущений 19 грудня 2012 року. Це був суттєвий перехід, адже нова версія активно використовувала апаратне прискорення графіки, QML та JavaScript. Класичні QWidgets на C++ залишилися підтримуваними, але не мали всіх переваг нової архітектури.
Розробка Qt 5 перейшла до моделі відкритого управління на qt-project.org, що дозволило зовнішнім розробникам надсилати патчі для розгляду.

## Порівняння з GTK, Electron, WPF, Flutter.

Окрім Qt на ринку є декілька альтернатив, які використовуються для розробки візуальних програм. 

| Критерій | Qt 6 | GTK 4 | Electron | WPF (.NET 8/9) | Flutter 3.22 |
| - | - | - | - | - | - |
| **Головна мова / API** | C++, QML | C | JavaScript/TypeScript (HTML+CSS) | C#, XAML | Dart |
| **Платформи** | Windows, Linux, macOS, iOS, Android, вбудовані | Linux  | Windows, Linux, macOS  | Лише Windows  | Android, iOS, Web, Windows, Linux, macOS, embedded |
| **Ресурси/продуктивність** | Нативний C++, помірний обсяг | Легкий, але на ін. ОС іноді гальмує | Високе споживання RAM (~250 МБ стартово) | Висока швидкодія, але великі білди | 60 FPS на мобілях; desktop |
| **Ліцензія**  | LGPL v3 / GPL / комерц. | LGPL v2 | MIT | MIT | BSD 3-Clause |
| **Інструменти** | Qt Creator, Qt Designer, CMake/QMake | GNOME Builder, Meson | DevTools, VS Code | Visual Studio, Blend  | VS Code, Android Studio |


## Базова архітектура модулів (QtCore, QtGui, QtWidgets, QtQuick).
### Qt базується на таких ключових ідеях:
- **Повна абстракція графічного інтерфейсу**
Під час перших релізів Qt використовувала власний рушій рендерингу та власні елементи управління, імітуючи зовнішній вигляд кожної платформи, на якій працювала. Це спрощувало портованість, адже небагато класів Qt реально залежали від ОС. Водночас така емуляція іноді призводила до невеликих візуальних відмінностей.
У сучасних версіях Qt використовується рідний API стилів ОС (там, де він доступний), щоб отримувати інформацію про метрики та відображати елементи управління у спосіб, максимально наближений до нативного. Це значно знижує вірогідність помилок в інтерфейсі. На деяких платформах (наприклад, MeeGo та KDE) Qt є рідним API. Інші кросплатформенні бібліотеки обрали інші підходи — наприклад, wxWidgets напряму використовує віджети цільової платформи.

- **Сигнали та слоти**
Це спеціальний механізм, запроваджений у Qt для обміну інформацією між об’єктами. Він реалізує шаблон «спостерігач» без зайвого шаблонного коду.
Суть полягає в тому, що елементи інтерфейсу (віджети) можуть надсилати сигнали, що містять дані про подію. Інші об’єкти можуть приймати ці сигнали через спеціальні функції, які називаються слотами.

- **Компілятор метаоб'єктів (moc)**
Компілятор метаоб’єктів (скорочено moc) — це інструмент, який обробляє вихідний код Qt-програми. Він інтерпретує певні макроси як анотації, і на їхній основі генерує додатковий C++ код із метаданими про класи.
Ці метадані використовуються в Qt для реалізації можливостей, яких немає в стандартному C++, таких як:
  - сигнали та слоти,
  - рефлексія (інтроспекція),
  - асинхронні виклики функцій.

- **Байндинги мов програмування**
Qt можна використовувати не лише з C++, а й з іншими мовами через спеціальні зв’язки (байндинги). Серед підтримуваних мов:
  - Python (PyQt, PySide),
  - Java (Qt Jambi),
  - C# (Qyoto/Kimono),


## Складові модулі Qt:

| Модуль Qt | Опис |
|-----------|------|
| **Qt Core** | Єдиний обов'язковий модуль Qt, що містить класи, які використовуються іншими модулями: система метаоб'єктів, багатопоточність, контейнери, система подій, плагіни та введення/виведення |
| **Qt GUI** | Центральний модуль для графіки. У Qt 5 залежить від OpenGL, але більше не містить жодного віджета |
| **Qt Widgets** | Містить класи для створення класичних інтерфейсів на базі віджетів і класи QSceneGraph. У Qt 5 був виділений окремо з QtGui |
| **Qt QML** | Модуль для мов QML та JavaScript |
| **Qt Quick** | Модуль для створення графічних інтерфейсів за допомогою QML2 |
| **Qt Quick Controls** | Контролі, подібні до віджетів, для Qt Quick, призначені переважно для десктопних застосунків |
| **Qt Quick Layouts** | Макети (layouts) для розташування елементів у Qt Quick |
| **Qt Network** | Рівень абстракції для роботи з мережею. Повна підтримка TCP, UDP, HTTP, TLS, SSL (у Qt 4) та SPDY (з Qt 5.3) |
| **Qt Multimedia** | Класи для роботи з аудіо, відео, радіо та камерами |
| **Qt Multimedia Widgets** | Віджети з модуля Qt Multimedia |
| **Qt SQL** | Містить класи для інтеграції з базами даних через SQL |
| **Qt WebEngine** | Новий набір API на базі Chromium для віджетів і QML для роботи з веб-контентом |
| **Qt Test** | Класи для юніт-тестування Qt-застосунків|

## Qt Creator: структура типового проєкту та життєвий цикл.
**Qt Creator** — це офіційне інтегроване середовище розробки (IDE) для створення застосунків на базі Qt. Воно підтримує C++ та QML, має вбудовані інструменти для проєктування інтерфейсу, налагодження, аналізу продуктивності та компіляції застосунків для різних платформ: Windows, Linux, macOS, Android та Embedded.

### Основні можливості Qt Creator:
- **Редактор коду** з підсвічуванням синтаксису та автодоповненням (на основі Clang або вбудованого парсера);
- Візуальний редактор форм (Qt Designer) для створення інтерфейсів на основі віджетів або Qt Quick (QML);
- Інтегрована підтримка CMake, QMake, QML і Python;
- Зручний менеджер проєктів, що дозволяє швидко перемикатись між конфігураціями (debug/release);
- Вбудований симулятор і емулятори мобільних пристроїв;
- Інструменти налагодження (debugger), включаючи підтримку GDB, LLDB та Visual Studio debugger.

## Створення нового проєкту
Коли ви створюєте новий проєкт у Qt Creator, зазвичай пропонуються такі шаблони:
- Qt Widgets Application
- Qt Quick Application
- Console Application
- Empty Project


Після вибору шаблону IDE автоматично створює основну структуру файлів.
Типова структура проєкту Qt (на прикладі QMake):
```
/my_project
│
├── main.cpp              // Точка входу в програму
├── mainwindow.ui         // Форма інтерфейсу (якщо використовується Designer)
├── mainwindow.cpp        // Реалізація логіки головного вікна
├── mainwindow.h          // Оголошення класу головного вікна
├── resources.qrc         // Файл ресурсів (іконки, зображення, стилі)
└── my_project.pro        // QMake-файл проєкту з описом залежностей
```

Аналогічно, якщо використовується CMake, замість .pro файлу буде CMakeLists.txt.
Структура проєкту на QML
У Qt Quick застосунках структура дещо інша:
```
/my_qml_app
│
├── main.cpp              // Запускає QML-інтерфейс із C++
├── main.qml              // Основна сцена інтерфейсу
├── App.qml               // Компоненти або вікна
├── assets/               // Ресурси (іконки, шрифти)
└── CMakeLists.txt        // CMake-конфігурація
```
QML-файли обробляються інтерпретатором QML Engine, який виконує описані елементи інтерфейсу, а за потреби — взаємодіє з C++.

